<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>一只柴犬 | 一只柴犬</title><meta name="author" content="凯凯超人"><meta name="copyright" content="凯凯超人"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="VuePurchase易购平台项目笔记安装前端包与配置环境Step1：首先在当前地址中，创建我们的 项目文件  vue-purchase 1vue create vue-purchase 默认选择  Default  Vue2.0 的版本。  我当前脚手架的版本是  5.0.8。 Step2：进入该项目文件   cd vue-purchase 并配置我们需要依赖的库  例如： 1234567891">
<meta property="og:type" content="article">
<meta property="og:title" content="一只柴犬">
<meta property="og:url" content="http://example.com/2023/03/20/VuePurchase%E6%98%93%E8%B4%AD%E5%B9%B3%E5%8F%B0%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="一只柴犬">
<meta property="og:description" content="VuePurchase易购平台项目笔记安装前端包与配置环境Step1：首先在当前地址中，创建我们的 项目文件  vue-purchase 1vue create vue-purchase 默认选择  Default  Vue2.0 的版本。  我当前脚手架的版本是  5.0.8。 Step2：进入该项目文件   cd vue-purchase 并配置我们需要依赖的库  例如： 1234567891">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg">
<meta property="article:published_time" content="2023-03-20T10:12:35.937Z">
<meta property="article:modified_time" content="2023-03-02T17:45:32.000Z">
<meta property="article:author" content="凯凯超人">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg"><link rel="shortcut icon" href="/img/favicon2.png"><link rel="canonical" href="http://example.com/2023/03/20/VuePurchase%E6%98%93%E8%B4%AD%E5%B9%B3%E5%8F%B0%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '一只柴犬',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-03 01:45:32'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/mycss.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/pool.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/iconfont.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/css/flink.min.css"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="一只柴犬" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/admin.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">68</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E9%9F%B3%E4%B9%90"><i class="fa-fw /music/"></i><span> 0</span></a></li><li><a class="site-page child" href="/%E7%94%B5%E5%BD%B1"><i class="fa-fw /movies/"></i><span> 1</span></a></li><li><a class="site-page child" href="/%E7%85%A7%E7%89%87"><i class="fa-fw /Gallery/"></i><span> 2</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">一只柴犬</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E9%9F%B3%E4%B9%90"><i class="fa-fw /music/"></i><span> 0</span></a></li><li><a class="site-page child" href="/%E7%94%B5%E5%BD%B1"><i class="fa-fw /movies/"></i><span> 1</span></a></li><li><a class="site-page child" href="/%E7%85%A7%E7%89%87"><i class="fa-fw /Gallery/"></i><span> 2</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-03-20T10:12:35.937Z" title="发表于 2023-03-20 18:12:35">2023-03-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-02T17:45:32.000Z" title="更新于 2023-03-03 01:45:32">2023-03-03</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="VuePurchase易购平台项目笔记"><a href="#VuePurchase易购平台项目笔记" class="headerlink" title="VuePurchase易购平台项目笔记"></a>VuePurchase易购平台项目笔记</h1><h2 id="安装前端包与配置环境"><a href="#安装前端包与配置环境" class="headerlink" title="安装前端包与配置环境"></a>安装前端包与配置环境</h2><p><strong>Step1：首先在当前地址中，创建我们的 项目文件  vue-purchase</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create vue-purchase</span><br></pre></td></tr></table></figure>
<p>默认选择  Default  Vue2.0 的版本。  <strong>我当前脚手架的版本是  5.0.8。</strong></p>
<p><strong>Step2：进入该项目文件   <code>cd vue-purchase</code></strong></p>
<p>并配置我们需要依赖的库  例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 前端安装依赖</span><br><span class="line">npm i axios -S</span><br><span class="line">npm i querystring -S</span><br><span class="line">npm i echarts -S</span><br><span class="line">// 路由</span><br><span class="line">npm i vue-router@3</span><br><span class="line">// 配置后端服务 </span><br><span class="line">// 技术：node.js + mysql + mock.js</span><br><span class="line">npm i express -S</span><br><span class="line">npm i cors -S</span><br><span class="line">npm i mockjs -S</span><br><span class="line">npm i mysql -S</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>其中 可以在事先就引入 Element UI</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue add element</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/引入Element.png" alt=""></p>
<font color="red">选择部分导入  import on demand</font>  再选择  **zh-CN**

出现  `Successfully invoked generator for plugin: vue-cli-plugin-element` 表示成功

**Step3：`vue-purchase ` 项目中专门配置一个 server 文件夹用于配置服务器相关代码** 



**Step4：启动前端项目**

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure>



**Step5：删除初试项目中没用部分**

例如 App.vue 全部初始为啥也没有，组件里原本的东西都不要。



**Step6：添加所需部分**

**assets**  静态资源

然后 assets 文件夹内，创建 css  和 images 文件夹，方便以后使用。

并再 css 文件中引入`reset.css` 、`iconfont.css`

-  `reset.css`，其是重置浏览器标签的样式表，百度可以直接搜到里面的内容。

- `iconfont.css` ，其是作者自己创建的一个图标库内容

  其css的内容为 引入外部css文件。

  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> url(<span class="string">&quot;https://at.alicdn.com/t/font_2448847_ogyed8on8j.css&quot;</span>);</span><br></pre></td></tr></table></figure>

然后这两个库需要再 main.js 入口文件中进行 注册：

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//css 初始化</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./assets/css/reset.css&quot;</span></span><br><span class="line"><span class="comment">// iconfont</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./assets/css/iconfont.css&quot;</span></span><br></pre></td></tr></table></figure>



**plugins**  Element UI

另外就是 需要补全 `plugins` 文件夹中  element.js 文件引入的内容。

其实可以需要用到然后再引入，但是为了方便嘛这里全部引入算了。

引入的内容需要取 Element2.0的官网，快速入手中找到

`完整组件列表和引入方式（完整组件列表以 [components.json](https://github.com/ElemeFE/element/blob/master/components.json) 为准）`将其后面代码中所有的内容 都放到 element.js 中就进行替换即可。



**request**   axios封装

另外就是要创建 request 文件夹，里面 request.js 。

里面实现 axios 的二次封装。



**views**  布局文件

再创建一个 views文件夹，内部创建两个布局（因为我有一个登录界面 和 一个后端页面）所以呈现的结构为：

![](https://gitee.com/kaikai-superman/imgs/raw/master/img/views.png)



**router 路由**  

<font color="blue">另外就是 router，store 文件夹需要自己初始化配置好。</font>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// // 该文件专门用于创建整个应用的路由器</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&#x27;@/views/Layout&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">&#x27;@/views/Login&#x27;</span></span><br><span class="line"><span class="comment">//引入组件</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">	&#123;&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并暴露一个路由器</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">	<span class="attr">mode</span>:<span class="string">&quot;history&quot;</span>,</span><br><span class="line">	<span class="attr">base</span>:process.env.BASE_URL,</span><br><span class="line">	routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="配置数据库用于后端服务"><a href="#配置数据库用于后端服务" class="headerlink" title="配置数据库用于后端服务"></a>配置数据库用于后端服务</h2><p>首先你需要有一个 Apache  + mysql  我这里使用的是  phpStudy， 作者用的那个 服务在我这开不起来。</p>
<blockquote>
<p>APACHE就是一个网络服务器，这个服务器侦听一个TCP端口，一般是80，对端口收到的命令进行解释，然后提交一些结果。APACHE解释的最主要的命令就是GET和POST，一般对应客户端在浏览器输入地址、浏览器里面点击链接和提交一个表单。</p>
<p>APACHE对GET和POST命令进行解释的时候，如果GET和POST的对象是一个HTML、CSS、JS、RAR、TXT等一般文件，就直接把文件的内容发回客户端；</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Quantum_Dog/article/details/109270685">https://blog.csdn.net/Quantum_Dog/article/details/109270685</a></p>
<p><strong>Step1：先开启 Apache 和 mysql</strong></p>
<p>Apache 映射的端口为 80</p>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/phpStudy.png" style="zoom: 50%;" /></p>
<p><strong>Step2：需要下载 phpMyAdmin</strong></p>
<p>需要打开软件管理，下载 phpMyAdmin</p>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/下载phpMyAdmin.png" alt=""></p>
<p>然后点击第一张图的数据库工具，打开按钮进入 phpMyAdmin</p>
<p>默认账号和密码 都是 root</p>
<p><strong>Step3：创建ego数据库 并载入数据表</strong></p>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/创建ego数据库.png" alt=""></p>
<p>并载入数据表</p>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/载入ego数据表.png" alt=""></p>
<h2 id="使用-Element-UI-实现侧边栏页面"><a href="#使用-Element-UI-实现侧边栏页面" class="headerlink" title="使用 Element UI 实现侧边栏页面"></a>使用 Element UI 实现侧边栏页面</h2><p>侧边栏去  ElementUI中进行复制，保留自己想要的部分。</p>
<p>主要功能是要实现配置侧边导航栏的路由跳转，需要和 Element UI 进行级联</p>
<p>配置 router 文件夹 中的 index.js 如下</p>
<p>需要注意的点为 </p>
<ul>
<li>/ 为一级路由， 后面 home页面路由、 产品管理路由、订单管理路由、广告分类路由均为同级别的二级路由，其各自里面的组件配置为三级路由</li>
</ul>
<p>以 产品管理路由为例子</p>
<ul>
<li><p>GoodsManage 作为路由的出口 用于显示三级路由的内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 路由出口 --&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>其里面包含两个三级路由 GoodsCategory 和 GoodsList</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//引入组件</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&#x27;../views/Layout/layout.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">&#x27;../views/Login/login.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&#x27;../views/Home/home.vue&#x27;</span></span><br><span class="line"><span class="comment">// 产品管理</span></span><br><span class="line"><span class="keyword">import</span> GoodsManage <span class="keyword">from</span> <span class="string">&quot;../views/GoodsManage/goodsManage.vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> GoodsCategory <span class="keyword">from</span> <span class="string">&quot;../views/GoodsManage/GoodsCategory/goodsCategory.vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> GoodsList <span class="keyword">from</span> <span class="string">&quot;../views/GoodsManage/GoodsList/goodsList.vue&quot;</span></span><br><span class="line"><span class="comment">// 订单管理</span></span><br><span class="line"><span class="keyword">import</span> OrderManage <span class="keyword">from</span> <span class="string">&quot;../views/OrderManage/orderManage.vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> OrderCollect <span class="keyword">from</span> <span class="string">&quot;../views/OrderManage/OrderCollect/orderCollect.vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> OrderList <span class="keyword">from</span> <span class="string">&quot;../views/OrderManage/OrderList/orderList.vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> OrderAudit <span class="keyword">from</span> <span class="string">&quot;../views/OrderManage/OrderAudit/orderAudit.vue&quot;</span></span><br><span class="line"><span class="comment">// 广告分类</span></span><br><span class="line"><span class="keyword">import</span> AdvertiseCategory <span class="keyword">from</span> <span class="string">&quot;../views/AdvertiseCategory/advertiseCategory.vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> AdvertiseList <span class="keyword">from</span> <span class="string">&quot;../views/AdvertiseCategory/AdvertiseList/advertiseList.vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> AdvertiseMagage <span class="keyword">from</span> <span class="string">&quot;../views/AdvertiseCategory/AdvertiseMagage/advertiseMagage.vue&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并暴露一个路由器</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">	<span class="attr">routes</span>:[</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">			<span class="attr">component</span>:Layout,</span><br><span class="line">			<span class="attr">children</span>:[</span><br><span class="line">				<span class="comment">// 配置 home页面路由</span></span><br><span class="line">				&#123;	</span><br><span class="line">					<span class="attr">name</span>:<span class="string">&quot;home&quot;</span>,</span><br><span class="line">					<span class="attr">path</span>:<span class="string">&quot;home&quot;</span>,</span><br><span class="line">					<span class="attr">component</span>:Home</span><br><span class="line">				&#125;,</span><br><span class="line">				<span class="comment">// 配置 产品管理路由	</span></span><br><span class="line">				&#123;</span><br><span class="line">					<span class="attr">name</span>:<span class="string">&quot;goodsManage&quot;</span>,</span><br><span class="line">					<span class="attr">path</span>:<span class="string">&quot;goodsManage&quot;</span>,</span><br><span class="line">					<span class="attr">component</span>:GoodsManage,</span><br><span class="line">					<span class="attr">children</span>:[</span><br><span class="line">						&#123;</span><br><span class="line">							<span class="attr">name</span>:<span class="string">&quot;goodsCategory&quot;</span>,</span><br><span class="line">							<span class="attr">path</span>:<span class="string">&quot;goodsCategory&quot;</span>,</span><br><span class="line">							<span class="attr">component</span>:GoodsCategory</span><br><span class="line">						&#125;,</span><br><span class="line">						&#123;</span><br><span class="line">							<span class="attr">name</span>:<span class="string">&quot;goodsList&quot;</span>,</span><br><span class="line">							<span class="attr">path</span>:<span class="string">&quot;goodsList&quot;</span>,</span><br><span class="line">							<span class="attr">component</span>:GoodsList</span><br><span class="line">						&#125;</span><br><span class="line">					]</span><br><span class="line">				&#125;,</span><br><span class="line">				<span class="comment">// 配置 订单管理路由</span></span><br><span class="line">				&#123;</span><br><span class="line">					<span class="attr">name</span>:<span class="string">&quot;orderManage&quot;</span>,</span><br><span class="line">					<span class="attr">path</span>:<span class="string">&quot;orderManage&quot;</span>,</span><br><span class="line">					<span class="attr">component</span>:OrderManage,</span><br><span class="line">					<span class="attr">children</span>:[</span><br><span class="line">						&#123;</span><br><span class="line">							<span class="attr">name</span>:<span class="string">&quot;orderCollect&quot;</span>,</span><br><span class="line">							<span class="attr">path</span>:<span class="string">&quot;orderCollect&quot;</span>,</span><br><span class="line">							<span class="attr">component</span>:OrderCollect</span><br><span class="line">						&#125;,</span><br><span class="line">						&#123;</span><br><span class="line">							<span class="attr">name</span>:<span class="string">&quot;orderList&quot;</span>,</span><br><span class="line">							<span class="attr">path</span>:<span class="string">&quot;orderList&quot;</span>,</span><br><span class="line">							<span class="attr">component</span>:OrderList</span><br><span class="line">						&#125;,</span><br><span class="line">						&#123;</span><br><span class="line">							<span class="attr">name</span>:<span class="string">&quot;orderAudit&quot;</span>,</span><br><span class="line">							<span class="attr">path</span>:<span class="string">&quot;orderAudit&quot;</span>,</span><br><span class="line">							<span class="attr">component</span>:OrderAudit</span><br><span class="line">						&#125;</span><br><span class="line">					]</span><br><span class="line">				&#125;,</span><br><span class="line">				<span class="comment">// 配置 广告分类路由</span></span><br><span class="line">				&#123;</span><br><span class="line">					<span class="attr">name</span>:<span class="string">&quot;advertiseCategory&quot;</span>,</span><br><span class="line">					<span class="attr">path</span>:<span class="string">&quot;advertiseCategory&quot;</span>,</span><br><span class="line">					<span class="attr">component</span>:AdvertiseCategory,</span><br><span class="line">					<span class="attr">children</span>:[</span><br><span class="line">						&#123;</span><br><span class="line">							<span class="attr">name</span>:<span class="string">&quot;advertiseList&quot;</span>,</span><br><span class="line">							<span class="attr">path</span>:<span class="string">&quot;advertiseList&quot;</span>,</span><br><span class="line">							<span class="attr">component</span>:AdvertiseList</span><br><span class="line">						&#125;,</span><br><span class="line">						&#123;</span><br><span class="line">							<span class="attr">name</span>:<span class="string">&quot;advertiseMagage&quot;</span>,</span><br><span class="line">							<span class="attr">path</span>:<span class="string">&quot;advertiseMagage&quot;</span>,</span><br><span class="line">							<span class="attr">component</span>:AdvertiseMagage</span><br><span class="line">						&#125;</span><br><span class="line">					]</span><br><span class="line">				&#125;</span><br><span class="line">			]</span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="attr">path</span>:<span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">			<span class="attr">component</span>:Login</span><br><span class="line">		&#125;</span><br><span class="line">	]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在 Element UI 中进行路由联动的属性为 <code>router</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/*default-active 用于根据路由 选择高亮哪一个*/        </span><br><span class="line">&lt;el-menu default-active=&quot;$route.path&quot; router class=&quot;el-menu-vertical-demo&quot; :collapse=&quot;isCollapse&quot;   </span><br><span class="line">        background-color= &quot;#252236&quot;</span><br><span class="line">        text-color=&quot;#fff&quot;</span><br><span class="line">        active-text-color=&quot;#ffd04b&quot; &gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/router.png" alt=""></p>
<p>所以我们需要修改后面的 index 索引来配置路由，其实挺简单的</p>
<p>如下所示为 menu组件中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 点击跳转的路由 产品管理为 home  二级路由--&gt;</span><br><span class="line">&lt;el-submenu index=&quot;/goodsManage&quot;&gt;</span><br><span class="line">    &lt;template slot=&quot;title&quot;&gt;</span><br><span class="line">        &lt;i class=&quot;el-icon-location&quot;&gt;&lt;/i&gt;</span><br><span class="line">        &lt;span slot=&quot;title&quot;&gt;产品管理&lt;/span&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;!-- 点击跳转的路由   三级路由--&gt;</span><br><span class="line">    &lt;el-menu-item-group&gt;</span><br><span class="line">        &lt;el-menu-item index=&quot;/goodsManage/goodsList&quot;&gt;产品列表&lt;/el-menu-item&gt;</span><br><span class="line">        &lt;el-menu-item index=&quot;/goodsManage/goodsCategory&quot;&gt;产品分类&lt;/el-menu-item&gt;</span><br><span class="line">    &lt;/el-menu-item-group&gt;</span><br><span class="line">&lt;/el-submenu&gt;</span><br></pre></td></tr></table></figure>
<h2 id="实现上方菜单导航折叠"><a href="#实现上方菜单导航折叠" class="headerlink" title="实现上方菜单导航折叠"></a>实现上方菜单导航折叠</h2><ul>
<li><p>首先修改 content.vue 中的 顶部区域 header 添加标签效果，并配置样式</p>
</li>
<li><p>另外左侧 Menu.vue 你会发现有空隙，你查看css样式，发现导航栏被渲染为li了，里面有个 border。你需要修改：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.el-menu</span>&#123;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>而后导航的折叠，其实是由 Element UI 中的一个属性 collapse   所决定的</p>
<p><code>collapse   是否水平折叠收起菜单（仅在 mode 为 vertical 时可用）  boolean —  false</code></p>
<p>所以我们动态的 修改collapse 就可以实现这个效果。</p>
<p>不过这涉及到 子组件中的通信</p>
<ul>
<li><p>iscollapse 属性写在父组件 layout.vue中，传递给 menu组件。 menu组件可 v-model动态判断</p>
</li>
<li><p>在content组件标签上，父组件需要挂载一个 <strong>自定义事件</strong> , 这里让这个事件去修改 iscollapse 的状态。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Content @OperateCollapse=&quot;OperateCollapse()&quot; &gt;&lt;/Content&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在content组件中 触发函数中去调用他，这里不用传递参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">changeMenu</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">this</span>.$emit(<span class="string">&#x27;OperateCollapse&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>另外要实现点击改变 样式的效果 这里使用了一个 动态 class  <code>:class=&quot;&#123;active:isCollapse&#125;</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;content&quot; :class=&quot;&#123;active:isCollapse&#125;&quot;&gt;</span><br><span class="line">   &lt;Content @OperateCollapse=&quot;OperateCollapse()&quot;  :isCollapse=&quot;isCollapse&quot; &gt;</span><br><span class="line">   &lt;/Content&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="comment">/* transition: all 1s; */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*被触发的时候 改变 padding-left*/</span></span><br><span class="line"><span class="selector-class">.active</span>&#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">64px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="实现上方右侧的-当前时间"><a href="#实现上方右侧的-当前时间" class="headerlink" title="实现上方右侧的 当前时间"></a>实现上方右侧的 当前时间</h3><p>需要用到  day.js 库  官网： <a target="_blank" rel="noopener" href="https://dayjs.fenxianglu.cn/">https://dayjs.fenxianglu.cn/</a></p>
<p>具体安装看 我的安装笔记，用法也同安装里写的一样。</p>
<p>如下 获取我们想要的时间，不过这还是静态数据，插值语法引入界面，是不会动的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.nowTime = dayjs(<span class="keyword">new</span> <span class="built_in">Date</span>()).format(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="实现后端部署"><a href="#实现后端部署" class="headerlink" title="实现后端部署"></a>实现后端部署</h3><p>涉及到 express </p>
<p>首先要先配置  index.js 其涉及到 express 创建本地服务器 </p>
<p>server 文件夹里面的所有东西 <strong>这里我直接全复制过来了，不懂这个的编写</strong>  ，需要先把没讲到的注释掉，这个看 nodemon 报错就好了，注掉需要下载的东西和对应的路由。</p>
<p>vscode 控制台路径 到 server文件夹 </p>
<p>需要下载 库 <code>nodemon</code>  进行全局配置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install nodemon -g</span><br></pre></td></tr></table></figure>
<p>然后在命令行中输入  <code>nodemon</code> ，就会打开 定义的 9898端口</p>
<p>使用 <code>http://localhost:9898/home/dataCount</code>  做个测试，出来就 ok</p>
<h2 id="实现主页首页"><a href="#实现主页首页" class="headerlink" title="实现主页首页"></a>实现主页首页</h2><h3 id="实现顶部数据统计信息"><a href="#实现顶部数据统计信息" class="headerlink" title="实现顶部数据统计信息"></a>实现顶部数据统计信息</h3><p>首先需要在 src 中 创建一个  api 文件， 并在其中创建文件 base.js  和  index.js</p>
<ul>
<li>base.js 映射了之前 在 server 中配置的 接口路由</li>
<li>index.js 根据base.js 提供的接口路由地址，使用 axios get 获取数据，并封装到对应的方法中，用于调用</li>
</ul>
<p>而后 我们需要在 入口文件 main.js 中引入 index.js 中的 api，自己写项目的话需要自己写哦。</p>
<p>在 home 组件中我们需要请求数据 配置 axios 请求</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;HomeVue&quot;</span>,</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span>&#123;</span><br><span class="line">        <span class="attr">objCount</span>:[]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 防止数据还没有请求过来 显示为空的情况</span></span><br><span class="line">    <span class="attr">filters</span>: &#123;</span><br><span class="line">      <span class="function"><span class="title">num</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!val) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> val.toLocaleString();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//-获取顶部统计数据信息</span></span><br><span class="line">        <span class="built_in">this</span>.getHomeCount();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">      <span class="comment">//-获取顶部统计数据信息----------------------------------------</span></span><br><span class="line">      <span class="keyword">async</span> <span class="function"><span class="title">getHomeCount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="built_in">this</span>.$api.getHomeCount()</span><br><span class="line">        <span class="built_in">console</span>.log(res.data.data.list);</span><br><span class="line">        <span class="built_in">this</span>.objCount = res.data.data.list;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>而后 上面使用 对objCount 使用插值语法就可以了。</p>
<p>作者这里 Mock.js 产生的数据格式有点问题，一个list就包含这8个值了。</p>
<p> 另外他还配置了一个 过滤器 filter，所以其插值语法，举个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&#x27;num&#x27;&gt;&#123;&#123;objCount.saleTotal  | num&#125;&#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3 id="用-echarts-画图"><a href="#用-echarts-画图" class="headerlink" title="用 echarts 画图"></a>用 echarts 画图</h3><p>将原项目中 plugins 里的 echarts 整个包 复制到 我这里的 plugin中</p>
<p>在 入口文件 main.js 中引入</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&#x27;echarts&#x27;</span>;</span><br><span class="line"><span class="comment">// 身上就会挂载一个  $myEcharts</span></span><br><span class="line">Vue.use(echarts)</span><br></pre></td></tr></table></figure>
<p>去 echarts 官网中 查看完整代码</p>
<p>在 Home.vue中 引入 echarts 整个引入就好了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&#x27;echarts&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>然后折线图绘制的代码，写在methods里</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绘制折线图</span></span><br><span class="line"><span class="function"><span class="title">drawline</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// 需要绘制的区域</span></span><br><span class="line">  <span class="keyword">var</span> chartDom = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;main&#x27;</span>);</span><br><span class="line">  <span class="keyword">var</span> myChart = echarts.init(chartDom);</span><br><span class="line">  <span class="keyword">var</span> option;</span><br><span class="line"></span><br><span class="line">  option = &#123;</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: [<span class="string">&#x27;Mon&#x27;</span>, <span class="string">&#x27;Tue&#x27;</span>, <span class="string">&#x27;Wed&#x27;</span>, <span class="string">&#x27;Thu&#x27;</span>, <span class="string">&#x27;Fri&#x27;</span>, <span class="string">&#x27;Sat&#x27;</span>, <span class="string">&#x27;Sun&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">yAxis</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">data</span>: [<span class="number">820</span>, <span class="number">932</span>, <span class="number">901</span>, <span class="number">934</span>, <span class="number">1290</span>, <span class="number">1330</span>, <span class="number">1320</span>],</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">        <span class="attr">smooth</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  option &amp;&amp; myChart.setOption(option);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同理画饼图也是一样的操作。</p>
<p>获取数据</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绘制 Mock.js 模拟数据 的折线图</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getHomeFormat</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="built_in">this</span>.$api.getHomeFormat()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;-获取绘制折线图--------&#x27;</span>, res.data.result.data.sale_money);</span><br><span class="line">    <span class="keyword">let</span> arr = res.data.result.data.sale_money;</span><br><span class="line">    <span class="comment">//声明变量存储x轴 y轴数据</span></span><br><span class="line">    <span class="keyword">let</span> xData = [], yData = [], yBarData = [], pieData = [];</span><br><span class="line">    arr.forEach(<span class="function"><span class="params">ele</span> =&gt;</span> &#123;</span><br><span class="line">        xData.push(ele.name)</span><br><span class="line">        yData.push(ele.total_amount)</span><br><span class="line">        yBarData.push(ele.num)</span><br><span class="line">        <span class="comment">//获取对象结构存储饼图数据-----</span></span><br><span class="line">        <span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line">        obj.name = ele.name;</span><br><span class="line">        obj.value = ele.total_amount;</span><br><span class="line">        pieData.push(obj)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 绘制折线图---动态数据---------------</span></span><br><span class="line">    <span class="built_in">this</span>.drawline(xData, yData, yBarData);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 绘制饼图--动态数据-------[&#123;name:&#x27;&#x27;,value:&#x27;&#x27;&#125;,&#123;&#125;]----</span></span><br><span class="line">    <span class="built_in">this</span>.drawPie(pieData)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>看着将数据填充入 echarts中，并修改一些属性就可以了。</p>
<p>然后再 mounted 生命周期函数中使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//-获取顶部统计数据信息</span></span><br><span class="line">    <span class="built_in">this</span>.getHomeCount()</span><br><span class="line">    <span class="comment">// 获取数据并 绘制折线图和饼图</span></span><br><span class="line">    <span class="built_in">this</span>.getHomeFormat()</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h3 id="实现下方的订单"><a href="#实现下方的订单" class="headerlink" title="实现下方的订单"></a>实现下方的订单</h3><p>这个通过接口获取数据 添加到data中  很简单</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取订单数据</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getHomeOrder</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="built_in">this</span>.$api.getHomeOrder()</span><br><span class="line">    <span class="built_in">this</span>.Orderlist = res.data.list</span><br></pre></td></tr></table></figure>
<p>然后插值语法显示即可</p>
<h3 id="实现产品管理"><a href="#实现产品管理" class="headerlink" title="实现产品管理"></a>实现产品管理</h3><h4 id="实现产品分类页面"><a href="#实现产品分类页面" class="headerlink" title="实现产品分类页面"></a>实现产品分类页面</h4><p>这个页面没啥好说的 就是引 elementUI，然后显示和查询特定都是有接口的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.getGoodsList(<span class="number">1</span>)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="comment">// 根据产品名称 查询数据</span></span><br><span class="line">    <span class="keyword">async</span> <span class="function"><span class="title">getGoodsList</span>(<span class="params">page</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="built_in">this</span>.$api.getGoodsList(&#123;page&#125;)</span><br><span class="line">        <span class="built_in">console</span>.log(res.data)</span><br><span class="line">        <span class="keyword">if</span>(res.data.status === <span class="number">200</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.tableData = res.data.data</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            alert(<span class="string">&quot;请求产品数据失败&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>就这个表单中 <strong>prop 指的是 tableData中直接的键</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;list-table&quot;&gt;</span><br><span class="line">    &lt;el-table</span><br><span class="line">    :data=&quot;tableData&quot;</span><br><span class="line">    border</span><br><span class="line">    style=&quot;width: 100%&quot;&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">      type=&quot;selection&quot;</span><br><span class="line">      width=&quot;55&quot;&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;id&quot; label=&quot;商品ID&quot; width=&quot;100&quot;&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;title&quot; label=&quot;商品名称&quot; width=&quot;180&quot;&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;price&quot; label=&quot;商品价格&quot; width=&quot;100&quot;&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;num&quot; label=&quot;商品数量&quot; width=&quot;180&quot;&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;category&quot; label=&quot;商品类目&quot; width=&quot;100&quot;&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;image&quot; label=&quot;商品图片&quot; width=&quot;180&quot; &gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;sellPoint&quot; label=&quot;商品卖点&quot; width=&quot;180&quot;  show-overflow-tooltip&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column prop=&quot;descs&quot; label=&quot;商品描述&quot; width=&quot;180&quot; show-overflow-tooltip&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column label=&quot;操作&quot;&gt;</span><br><span class="line">      &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">        &lt;el-button</span><br><span class="line">          size=&quot;mini&quot;</span><br><span class="line">          type=&quot;primary&quot;</span><br><span class="line">          icon=&quot;el-icon-edit&quot;</span><br><span class="line">          @click=&quot;handleEdit(scope.$index, scope.row)&quot;&gt;编辑&lt;/el-button&gt;</span><br><span class="line">        &lt;el-button</span><br><span class="line">          size=&quot;mini&quot;</span><br><span class="line">          type=&quot;danger&quot;</span><br><span class="line">          icon=&quot;el-icon-delete&quot;</span><br><span class="line">          @click=&quot;handleDelete(scope.$index, scope.row)&quot;&gt;删除&lt;/el-button&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">  &lt;/el-table-column&gt;</span><br><span class="line">  &lt;/el-table&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h4 id="实现公共分页器"><a href="#实现公共分页器" class="headerlink" title="实现公共分页器"></a>实现公共分页器</h4><p>另外比较特殊的就是实现分页器，因为后面每个页面都需要用到。</p>
<p>所以分页器是一个  components。</p>
<p>再 components 文件夹中创建 Pagination 文件夹，里面创建一个 pagination.vue</p>
<p>这个分页器同样是由 element UI 来做</p>
<p>主要有两个功能</p>
<ol>
<li><p>我请求的数据分页每个多少个啊 总共多少啊  goodList.vue 需要传递给 pagination.vue 当然采用的是 props 因为是父传子</p>
</li>
<li><p>然后子这边页面发生变化 ，elementUi提供的方法为 <code>@current-change=&quot;getPagination&quot;</code>，绑定我们的自定义事件<code>getPagination</code>，这个事件应该把 再子组件中的数据传给父组件。可以使用自定义事件，再getPagination方法中我们触发自定义事件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// current 为当前页</span></span><br><span class="line"><span class="function"><span class="title">getPagination</span>(<span class="params">current</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.$emit(<span class="string">&#x27;getPagination&#x27;</span>,current)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>那对应的 父组件中 注册子组件的标签上 应该配有自定义事件 <code>getPagination</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 部分三 ：分页器组件部分 --&gt;</span><br><span class="line">&lt;pagination :totalPage=&quot;totalPage&quot; :pageSize=&quot;pageSize&quot; @getPagination=&quot;getPagination&quot;&gt;&lt;/pagination&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取点击页码：</span></span><br><span class="line"><span class="function"><span class="title">getPagination</span>(<span class="params">page</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//默认产品列表的分页功能</span></span><br><span class="line">    <span class="built_in">this</span>.getGoodsList(page)</span><br><span class="line">&#125;,</span><br><span class="line">    <span class="comment">// 根据页面 查询数据</span></span><br><span class="line">    <span class="keyword">async</span> <span class="function"><span class="title">getGoodsList</span>(<span class="params">page</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="built_in">this</span>.$api.getGoodsList(&#123;page&#125;)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;表单数据 res.data&quot;</span>, res.data)</span><br><span class="line">        <span class="keyword">if</span>(res.data.status === <span class="number">200</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.tableData = res.data.data</span><br><span class="line">            <span class="built_in">this</span>.totalPage = res.data.total</span><br><span class="line">            <span class="built_in">this</span>.pageSize = res.data.pageSize</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            alert(<span class="string">&quot;请求产品数据失败&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<h4 id="实现搜索产品名-显示数据功能"><a href="#实现搜索产品名-显示数据功能" class="headerlink" title="实现搜索产品名 显示数据功能"></a>实现搜索产品名 显示数据功能</h4><p>查询其实就是 调用接口很简单，这里要注意 传过去的对象，键一定要是 research</p>
<p>另外就是 有一些特殊的情况，例如如果查出来的数据是大于 页面容量8的话，需要截断显示。</p>
<p>接口调用如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 根据产品名称 查询数据</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getGoodsSearch</span>(<span class="params">goodsName</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// let res = await this.$api.getGoodsSearch(&#123;goodsName&#125;)</span></span><br><span class="line">    <span class="comment">//   console.log(res.data)</span></span><br><span class="line">    <span class="comment">// if(res.data.status === 200)&#123;</span></span><br><span class="line">    <span class="comment">//   console.log(res.data)</span></span><br><span class="line">    <span class="comment">// &#125;else&#123;</span></span><br><span class="line">    <span class="comment">//   alert(&quot;没有这个表单数据&quot;)</span></span><br><span class="line">    <span class="built_in">this</span>.$api.getGoodsSearch(&#123;<span class="attr">search</span>:goodsName&#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res.data)</span><br><span class="line">      <span class="keyword">if</span>(res.data.status == <span class="number">200</span>)&#123;</span><br><span class="line">        <span class="built_in">this</span>.listTotal = res.data.result</span><br><span class="line">        <span class="comment">// 我拿到的数据是 如果超过页面上线 就要分页 </span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.listTotal.length &gt; <span class="number">8</span>)&#123;</span><br><span class="line">          <span class="comment">// 截取出8个 作为第一页展示</span></span><br><span class="line">          <span class="built_in">this</span>.tableData = res.data.result.slice(<span class="number">0</span>,<span class="number">8</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="built_in">this</span>.totalPage = res.data.result.length</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.pageSize = <span class="built_in">Math</span>.min(<span class="number">8</span>, <span class="built_in">this</span>.pageSize)</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">// 啥数据没查出来 就是空</span></span><br><span class="line">        <span class="built_in">this</span>.tableData = []</span><br><span class="line">        <span class="built_in">this</span>.totalPage = <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch( <span class="function"><span class="params">err</span> =&gt;</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;请求失败&quot;</span>, err.data)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">onSubmit</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(!<span class="built_in">this</span>.formInline.goodsName)&#123;</span><br><span class="line">      <span class="built_in">this</span>.$message.error(<span class="string">&#x27;请输入信息再去搜索&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">this</span>.getGoodsSearch(<span class="built_in">this</span>.formInline.goodsName)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>另外又有一个新的bug，就是我如果截取了前8个，剩下点第二页的时候，由于前面的事件绑定是显示全部数据的第二页，此时我应该显示的是查询剩下的内容。</p>
<p>我们在 data 中添加一个 searchStatus 用来标识，我是不是处于查询状态</p>
<p>然后根据状态执行对应修改页码的逻辑即可，分页逻辑是归纳的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取点击页码：</span></span><br><span class="line"><span class="function"><span class="title">getPagination</span>(<span class="params">page</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">this</span>.seachStatus)</span><br><span class="line">        <span class="comment">//默认产品列表的分页功能</span></span><br><span class="line">        <span class="built_in">this</span>.getGoodsList(page)</span><br><span class="line">    <span class="comment">// 在查询状态下，显示查询剩余内容</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">// 0-7 8-15 </span></span><br><span class="line">        <span class="built_in">this</span>.tableData = <span class="built_in">this</span>.listTotal.slice((page - <span class="number">1</span>) * <span class="number">8</span>, page * <span class="number">8</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h4 id="实现选择时间的格式修改"><a href="#实现选择时间的格式修改" class="headerlink" title="实现选择时间的格式修改"></a>实现选择时间的格式修改</h4><p>时间需要进行格式的转换，这里还是使用 dayJS</p>
<p>首先需要先 导入 dayJS</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> dayjs <span class="keyword">from</span> <span class="string">&quot;dayjs&quot;</span></span><br></pre></td></tr></table></figure>
<p>然后由于 el-table-colum 属性的title 是由prop 这个属性来定义的，不能修改，可以再下面使用template进行修改，例如如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table-column label=&quot;载入时间&quot; width=&quot;180&quot;&gt;</span><br><span class="line">  &lt;!--prop=&quot;create_time&quot;  prop获取列字段标识/template  slot-scope=&quot;scope&quot;当前作用域下 scope获取当前行的数据信息 --&gt;</span><br><span class="line">   &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">  &#123;&#123; dayjs(scope.row.create_time).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;) &#125;&#125; </span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/el-table-column&gt;</span><br></pre></td></tr></table></figure>
<h4 id="实现删除商品-指的是每一行的右侧"><a href="#实现删除商品-指的是每一行的右侧" class="headerlink" title="实现删除商品 指的是每一行的右侧"></a>实现删除商品 指的是每一行的右侧</h4><font color="red">我现在的实现有问题 得以后解决，因为我现在没有第5页数据了，我得学会了添加才能回来再试对不对</font>

<p>触发删除的按钮为 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button</span><br><span class="line">           size=&quot;mini&quot;</span><br><span class="line">           type=&quot;danger&quot;</span><br><span class="line">           icon=&quot;el-icon-delete&quot;</span><br><span class="line">           @click=&quot;handleDelete(scope.$index, scope.row)&quot;&gt;删除&lt;/el-button&gt;</span><br></pre></td></tr></table></figure>
<p>定义这个函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现 数据某一行 删除方法</span></span><br><span class="line"><span class="function"><span class="title">handleDelete</span>(<span class="params">index, row</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(index, row);</span><br><span class="line">  <span class="built_in">this</span>.$confirm(<span class="string">&#x27;确定删除这一行的商品数据?&#x27;</span>, <span class="string">&#x27;提示&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">confirmButtonText</span>: <span class="string">&#x27;确定&#x27;</span>,</span><br><span class="line">    <span class="attr">cancelButtonText</span>: <span class="string">&#x27;取消&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span></span><br><span class="line">  &#125;).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 删除这个数据  这里就是请求后端的删除接口</span></span><br><span class="line">    <span class="built_in">this</span>.deleteItemById(row.id)</span><br><span class="line">    <span class="comment">// 删除成功了之后 应该重新渲染页面 dom</span></span><br><span class="line">    <span class="comment">// 理论上现在是第几页 就重新再渲染一次第几页</span></span><br><span class="line">    <span class="comment">// 要考虑到这次删掉是最后一条，那我应该跳到上一页</span></span><br><span class="line">    <span class="comment">// 这个判断需要判断 我删除之后 此时条的总数是不是 pageSize 的倍数，是的话就应该渲染上一页</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.tableData.length % <span class="built_in">this</span>.pageSize == <span class="number">0</span>)</span><br><span class="line">      <span class="built_in">this</span>.getGoodsList(<span class="built_in">this</span>.currentPage - <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">this</span>.getGoodsList(<span class="built_in">this</span>.currentPage)</span><br><span class="line"></span><br><span class="line">  &#125;).catch(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$message(&#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;info&#x27;</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;已取消删除&#x27;</span></span><br><span class="line">    &#125;);          </span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中定义了 删除数据接口 <code>deleteItemById</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 删除数据的接口 ------</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">deleteItemById</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="built_in">this</span>.$api.deleteGoods(&#123;id&#125;)</span><br><span class="line">    <span class="keyword">if</span>(res.data.status == <span class="number">200</span>)&#123;</span><br><span class="line">        <span class="built_in">this</span>.$message(&#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&#x27;删除成功!&#x27;</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="实现数据的添加页面"><a href="#实现数据的添加页面" class="headerlink" title="实现数据的添加页面"></a>实现数据的添加页面</h4><h5 id="先配置路由"><a href="#先配置路由" class="headerlink" title="先配置路由"></a>先配置路由</h5><p>数据添加是一个新的页面，逻辑上应该是 点击添加商品按钮后，跳转到新的页面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button type=&quot;warning&quot; icon=&quot;el-icon-check&quot;  @click=&quot;toProductPage() &quot;&gt;添加商品&lt;/el-button&gt;</span><br></pre></td></tr></table></figure>
<p>并再 GoodList 文件中 再创建一个 <code>goodsAddPage.vue</code></p>
<p>然后需要配置路由，打开 router 的 index.js 中配置在 goodsManage下配置一个新的子路由</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;goodsAddPage&quot;</span>,</span><br><span class="line">    <span class="attr">pat</span>:<span class="string">&quot;goodsAddPage&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>:GoodsAddPage</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/配置路由.png" style="zoom:50%;" /></p>
<p>配置 click 方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 点击跳转 增添商品页面 ++++</span></span><br><span class="line"><span class="function"><span class="title">togoodsAddPage</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.$router.push(<span class="string">&quot;/goodsManage/goodsAddPage&quot;</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h5 id="配置数据添加页面"><a href="#配置数据添加页面" class="headerlink" title="配置数据添加页面"></a><font color="orange">配置数据添加页面</font></h5><p>碰到一个问题就是，我这个路由并没有在左侧的 导航栏中有对应的 index高亮。我们还是想要在产品列表对应高亮，所以这个怎么办呢？</p>
<p>首先应该在路由中配置 <strong>meta</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;goodsAddPage&quot;</span>,</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&quot;goodsAddPage&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>:GoodsAddPage,</span><br><span class="line">    <span class="attr">meta</span>:&#123; <span class="comment">// 配置高亮标识 对应的路由路径</span></span><br><span class="line">          <span class="attr">activeMenu</span>:<span class="string">&quot;/goodsManage/goodsList&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>做法：当目前的访问path 为<code>/goodsManage/goodsAddPage</code>时，我会自动的先变成 <code>/goodsManage/goodsList</code>。 这样我的 Menu 激活就能实现了。</strong></p>
<p>刷新并且打印这个添加页面的 $route，你可以看到此页面是存在 meta的。</p>
<p>我们就利用这个东西，来实现上面的变换功能。</p>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/meta.png" style="zoom:50%;" /></p>
<font color="red">**这里实现方式，是使用 `watch` 来监听路由的变化，获取 meta 里的值。**</font>

<p>在 <strong>Menu.vue</strong> 中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">watch:&#123;</span><br><span class="line">    $route(to, <span class="keyword">from</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;watch--to&quot;</span>, to)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;watch--from&quot;</span>, <span class="keyword">from</span>)</span><br><span class="line">        <span class="comment">// 判断当前的路由里面 meta 中是否有值</span></span><br><span class="line">        <span class="comment">// 我只拿里面的 meta 和 path</span></span><br><span class="line">        <span class="keyword">let</span> &#123;meta, path&#125; = to</span><br><span class="line">        <span class="built_in">console</span>.log()</span><br><span class="line">        <span class="keyword">if</span>(meta.activeMenu)&#123;</span><br><span class="line">            <span class="built_in">this</span>.active = meta.activeMenu</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.active = path</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后将上面 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-menu :default-active=&quot;active&quot; router class=&quot;el-menu-vertical-demo&quot; :collapse = &quot;isCollapse&quot;   </span><br><span class="line">       background-color= &quot;#252236&quot;</span><br><span class="line">       text-color=&quot;#fff&quot;</span><br><span class="line">       active-text-color=&quot;#ffd04b&quot; &gt;</span><br></pre></td></tr></table></figure>
<font color="orange">**但是这样有个问题，就是刚进入的时候，menu的 active 会失效，因为watch 并没有监听到路由的改变。**</font>

<p>所以可以在 created()  中先初始化一下最初的状态</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.$route.meta.activeMenu)&#123;</span><br><span class="line">        <span class="built_in">this</span>.active = <span class="built_in">this</span>.$route.meta.activeMenu</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.active = <span class="built_in">this</span>.$route.path</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h5 id="实现产品类型列表-的-树形菜单"><a href="#实现产品类型列表-的-树形菜单" class="headerlink" title="实现产品类型列表 的 树形菜单"></a>实现产品类型列表 的 树形菜单</h5><p>首先我们需要创建一个新的 vue组件，goodsTreeProdct.vue 。然后需要找到 Element UI 中的 树形菜单， 选择懒加载的组件。</p>
<p>将这个组件作为我们 goodsAddPage的子组件，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;nav&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;title&quot;&gt;产品类型列表&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;tree&quot;&gt;</span><br><span class="line">        &lt;goodsTreeProdct&gt;&lt;/goodsTreeProdct&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>具体属性需要看 Element 文案</p>
<p>我们需要实现的就是 每一层点击，都要进行一次数据后端读取 api 为 <code>this.$api.goodsItemCategory()</code>。整体该组件代码如下所示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">    树状懒加载结构</span><br><span class="line">        show-checkbox 节点是否可被选择  boolean  默认为 false</span><br><span class="line">        props 配置选项 具体看下表   object</span><br><span class="line">            label	指定节点标签为节点对象的某个属性值	string, function(data, node)	—	—</span><br><span class="line">            children	指定子树为节点对象的某个属性值	string	—	—</span><br><span class="line">            disabled	指定节点选择框是否禁用为节点对象的某个属性值	boolean, function(data, node)	—	—</span><br><span class="line">            isLeaf	指定节点是否为叶子节点，仅在指定了 lazy 属性的情况下生效	boolean, function(data, node)	—	—</span><br><span class="line">        load  加载子树数据的方法，仅当 lazy 属性 为 true 时生效  并且其是一个函数 function(node, resolve)</span><br><span class="line">        lazy	是否懒加载子节点，需与 load 方法结合使用	boolean	—	false</span><br><span class="line"> --&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;el-tree</span><br><span class="line">        :props=&quot;props&quot;</span><br><span class="line">        :load=&quot;loadNode&quot;</span><br><span class="line">        lazy&gt;</span><br><span class="line">        &lt;/el-tree&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">          label: &#x27;name&#x27;,</span><br><span class="line">          children: &#x27;zones&#x27;,</span><br><span class="line">          isLeaf: &#x27;leaf&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      loadNode(node, resolve) &#123;</span><br><span class="line">        // 初始上来就是 第0层，然后展开第一层的内容</span><br><span class="line">        if (node.level === 0) &#123;</span><br><span class="line">          // 这个 data 应该来自于 ajax请求</span><br><span class="line">          // let data = [&#123; name: &#x27;region&#x27; &#125;]</span><br><span class="line">          this.$api.goodsItemCategory().then(</span><br><span class="line">              res =&gt; &#123;</span><br><span class="line">                if(res.data.status == 200)</span><br><span class="line">                  return resolve(res.data.result);  </span><br><span class="line">                else</span><br><span class="line">                  return resolve([])</span><br><span class="line">              &#125;</span><br><span class="line">          )</span><br><span class="line">        &#125;</span><br><span class="line">        if (node.level &gt;= 1) &#123;</span><br><span class="line">          // 请求下一级别</span><br><span class="line">          this.$api.goodsItemCategory(&#123;type:node.data.cid&#125;).then(</span><br><span class="line">              res =&gt; &#123;</span><br><span class="line">                if(res.data.status == 200)</span><br><span class="line">                  return resolve(res.data.result);  </span><br><span class="line">                else</span><br><span class="line">                  return resolve([])</span><br><span class="line">              &#125;</span><br><span class="line">          )</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h5 id="实现产品类型列表-的-右侧添加表单"><a href="#实现产品类型列表-的-右侧添加表单" class="headerlink" title="实现产品类型列表 的 右侧添加表单"></a>实现产品类型列表 的 右侧添加表单</h5><h6 id="用全局总线来实现-左侧分类右侧显示"><a href="#用全局总线来实现-左侧分类右侧显示" class="headerlink" title="用全局总线来实现 左侧分类右侧显示"></a>用全局总线来实现 左侧分类右侧显示</h6><p>首先第一行这个 所属分类，我们需要拿到左侧导航栏这个node的名称。在element的回调方法中有 <code>@node-click = &quot;clickHandle&quot;</code>，我们配置自定义函数 clickHandle，<strong>用来触发全局总线传递数据（因为这里是 子传子）</strong></p>
<p>在 树结构Vue中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 点击tree的节点触发的事件</span></span><br><span class="line"><span class="function"><span class="title">clickHandle</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.$bus.$emit(<span class="string">&#x27;sendTreeNode&#x27;</span>,data)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>在  FormVue 组件中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$bus.$on(<span class="string">&#x27;sendTreeNode&#x27;</span>,<span class="built_in">this</span>.sendTreeNode)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="然后右侧表单整体的布局需要修改为需要效果"><a href="#然后右侧表单整体的布局需要修改为需要效果" class="headerlink" title="然后右侧表单整体的布局需要修改为需要效果"></a>然后右侧表单整体的布局需要修改为需要效果</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form :model=&quot;ruleForm&quot; :rules=&quot;rules&quot; ref=&quot;ruleForm&quot; label-width=&quot;100px&quot; class=&quot;demo-ruleForm&quot;&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;所属分类&quot; prop=&quot;name&quot;&gt;</span><br><span class="line">            &#123;&#123;ruleForm.category&#125;&#125;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;商品名称&quot; prop=&quot;title&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;ruleForm.title&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;商品价格&quot; prop=&quot;price&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;ruleForm.price&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;商品数量&quot; prop=&quot;num&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;ruleForm.num&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;商品卖点&quot; prop=&quot;sellPoint&quot;&gt;</span><br><span class="line">            &lt;el-input v-model=&quot;ruleForm.sellPoint&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;上传图片&quot; prop=&quot;image&quot;&gt;</span><br><span class="line">            &lt;!-- &lt;GoodsUpload @sendImage=&quot;sendImage&quot; :fileList=&quot;fileList&quot;&gt;&lt;/GoodsUpload&gt; --&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;商品描述&quot; prop=&quot;descs&quot;&gt;</span><br><span class="line">            &lt;!-- 富文本编辑器 --&gt;</span><br><span class="line">            &lt;!-- &lt;WangEditor @sendEditor=&quot;sendEditor&quot; :editorData=&quot;editor&quot; ref=&quot;myEditor&quot;&gt;&lt;/WangEditor&gt; --&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;首页轮播推荐&quot; prop=&quot;isBanner&quot;&gt;</span><br><span class="line">            &lt;el-switch v-model=&quot;ruleForm.isBanner&quot; active-color=&quot;#13ce66&quot;&gt;&lt;/el-switch&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;是否推荐商品&quot; prop=&quot;recommend&quot;&gt;</span><br><span class="line">            &lt;el-switch v-model=&quot;ruleForm.recommend&quot; active-color=&quot;#13ce66&quot;&gt;&lt;/el-switch&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;是否上架商品&quot; prop=&quot;shelves&quot;&gt;</span><br><span class="line">            &lt;el-switch v-model=&quot;ruleForm.shelves&quot; active-color=&quot;#13ce66&quot;&gt;&lt;/el-switch&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">            &lt;el-button v-show=&quot;ruleForm.title!=&#x27;详情&#x27;&quot; type=&quot;primary&quot; @click=&quot;submitForm(&#x27;ruleForm&#x27;)&quot;&gt;保存&lt;/el-button&gt;</span><br><span class="line">            &lt;el-button  v-show=&quot;ruleForm.title!=&#x27;详情&#x27;&quot;  @click=&quot;resetForm(&#x27;ruleForm&#x27;)&quot;&gt;重置&lt;/el-button&gt;</span><br><span class="line">            &lt;el-button @click=&quot;goGoodsList()&quot; type=&quot;info&quot; plain&gt;取消&lt;/el-button&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">    &lt;/el-form&gt;</span><br></pre></td></tr></table></figure>
<p>其中data的内容为</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">ruleForm</span>: &#123;</span><br><span class="line">          <span class="attr">category</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">          <span class="attr">price</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">          <span class="attr">num</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">          <span class="attr">sellPoint</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">          <span class="attr">image</span>: [],</span><br><span class="line">          <span class="attr">descs</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">          <span class="attr">isBanner</span>: <span class="literal">true</span>,<span class="comment">//轮推荐</span></span><br><span class="line">          <span class="attr">recommend</span>: <span class="literal">true</span>,<span class="comment">//推荐</span></span><br><span class="line">          <span class="attr">shelves</span>: <span class="literal">true</span>,<span class="comment">//商品上架</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">rules</span>: &#123;</span><br><span class="line">          <span class="attr">title</span>: [</span><br><span class="line">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入商品名称&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">min</span>: <span class="number">3</span>, <span class="attr">max</span>: <span class="number">5</span>, <span class="attr">message</span>: <span class="string">&#x27;长度在 3 到 5 个字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">          ],</span><br><span class="line">          <span class="attr">price</span>: [</span><br><span class="line">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入产品的价格&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">          ],</span><br><span class="line">          <span class="attr">num</span>: [</span><br><span class="line">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入产品的数量&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">          ],</span><br><span class="line">          <span class="attr">sellPoint</span>: [</span><br><span class="line">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入商品的卖点&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">          ],</span><br><span class="line">          <span class="attr">type</span>: [</span><br><span class="line">            &#123; <span class="attr">type</span>: <span class="string">&#x27;array&#x27;</span>, <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请至少选择一个活动性质&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">          ],</span><br><span class="line">          <span class="attr">descs</span>: [</span><br><span class="line">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入商品的描述&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<h6 id="实现表单-Form-中的图片上传-并回调存储信息"><a href="#实现表单-Form-中的图片上传-并回调存储信息" class="headerlink" title="实现表单 Form 中的图片上传 并回调存储信息"></a>实现表单 Form 中的图片上传 并回调存储信息</h6><p>首先又要创建一个 组件 <code>upLoadImg.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form-item label=&quot;上传图片&quot; prop=&quot;image&quot;&gt;</span><br><span class="line">    &lt;upLoadImgVue&gt;&lt;/upLoadImgVue&gt;</span><br><span class="line">&lt;/el-form-item&gt;</span><br></pre></td></tr></table></figure>
<p>随后我们去 ElmentUI 中寻找 图片上传的 组件。<font color="blue"><strong>选用的是 Upload 上传中的  照片墙。</strong></font></p>
<p>其中 vue 模板中的代码如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-upload</span><br><span class="line">           action=&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span><br><span class="line">           list-type=&quot;picture-card&quot;</span><br><span class="line">           :on-preview=&quot;handlePictureCardPreview&quot;</span><br><span class="line">           :on-remove=&quot;handleRemove&quot;&gt;</span><br><span class="line">    &lt;i class=&quot;el-icon-plus&quot;&gt;&lt;/i&gt;</span><br><span class="line">&lt;/el-upload&gt;</span><br><span class="line">&lt;el-dialog :visible.sync=&quot;dialogVisible&quot;&gt;</span><br><span class="line">    &lt;img width=&quot;100%&quot; :src=&quot;dialogImageUrl&quot; alt=&quot;&quot;&gt;</span><br><span class="line">&lt;/el-dialog&gt;</span><br></pre></td></tr></table></figure>
<p>我们其实要修改的是 action中，我们传递的服务器地址接口 post请求。</p>
<p>我们这里的服务器是 express 构建的，所以我们在 sever 中定义了</p>
<h6 id="我们需要在-server-下创建一个-upload文件夹，用于我们的文件上传"><a href="#我们需要在-server-下创建一个-upload文件夹，用于我们的文件上传" class="headerlink" title="我们需要在 server 下创建一个 upload文件夹，用于我们的文件上传"></a><strong>我们需要在 server 下创建一个 upload文件夹，用于我们的文件上传</strong></h6><p>然后再 src 的 api/base.js 文件中对应的接口为：</p>
<p><code>uploadUrl:&quot;/api/upload&quot;,</code></p>
<p><em>`//导出图片 上传</em>`</p>
<p><code>export const uploadUrl=&#39;/api/upload&#39;</code></p>
<p>随后再 我们的 <code>upLoadImg.vue</code> 中进行引入</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;uploadUrl&#125; <span class="keyword">from</span> <span class="string">&quot;../../../api/base&quot;</span></span><br><span class="line"><span class="comment">// 并在 data 中进行注册</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;upLoadImgVue&quot;</span>,</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            uploadUrl,</span><br><span class="line">            <span class="attr">dialogImageUrl</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="attr">dialogVisible</span>: <span class="literal">false</span></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>将原来控件中的 action 修改为 双向绑定  <code>:action=&quot;uploadUrl&quot;</code></p>
<font color="blue">**我这里碰到了一个 bug，就是我上传的图片如果有中文 会乱码**</font>



<p><strong>现在上传成功了，现在需要将 这个上传图片的地址，存到我 form 表单的 image 属性中</strong></p>
<p>在控件中引入 <code>:on-success=&quot;handleSuccess&quot;</code></p>
<p>然后就在 handleSuccess中执行需要的内容即可，我们这边需要将 图片url 传递给 父组件表单vue。</p>
<p>这里肯定需要一个  <strong>子传父的 自定义事件</strong>  这肯定会的啦，就不详细说了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 上传成功回调处理</span></span><br><span class="line"><span class="function"><span class="title">handleSuccess</span>(<span class="params">response, file, fileList</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// url: &quot;upload\\1677749642735-614.png&quot;</span></span><br><span class="line">    <span class="keyword">const</span> fileName = host + <span class="string">&quot;/&quot;</span> + response.url.split(<span class="string">&quot;\\&quot;</span>).pop();</span><br><span class="line">    <span class="built_in">console</span>.log(fileName)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(response,file,fileList)</span><br><span class="line">    <span class="built_in">this</span>.$emit(<span class="string">&quot;sendImage&quot;</span>, fileName)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后修改 表单中的 image 属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">sendImage</span>(<span class="params">imgUrl</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.ruleForm.image.push(imgUrl)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="实现表单-Form-中的富文本组件-上传"><a href="#实现表单-Form-中的富文本组件-上传" class="headerlink" title="实现表单 Form 中的富文本组件 上传"></a>实现表单 Form 中的富文本组件 上传</h6><p>富文本编译器，需要用到第三方的插件，这里使用的是 <strong>wangEditor 富文本编译器</strong></p>
<p>所以我们也需要创建 wangEditor 这个Vue文件，<strong>然后我们这里也同样采用 自定义事件，进行父传子</strong>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;wangEditor @sendWangEditor=&quot;sendWangEditor&quot;&gt;&lt;/wangEditor&gt;</span><br></pre></td></tr></table></figure>
<h6 id="最后实现商品的添加"><a href="#最后实现商品的添加" class="headerlink" title="最后实现商品的添加"></a>最后实现商品的添加</h6><p>点击保存应该 可以提交此时的填写的商品信息，并且添加到数据库。</p>
<p>在表单Vue中，对按钮绑定事件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">submitForm</span>(<span class="params">formName</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$refs[formName].validate(<span class="function">(<span class="params">valid</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;添加商品&quot;</span>, <span class="built_in">this</span>.ruleForm);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;error submit!!&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>router （express） 定义的 接口为：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">&quot;/goods/item/insertTbItem&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>对应 src api 下的 base.js 中的  <code>addGoods:&quot;/api/goods/item/insertTbItem&quot;,*//商品添加地址*</code></p>
<p>然后对应的  src api 下的 index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">addGoods</span>(<span class="params">params</span>)</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> axios.get(base.addGoods, &#123; params &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="然后就是撰写-Form-表单的方法："><a href="#然后就是撰写-Form-表单的方法：" class="headerlink" title="然后就是撰写 Form 表单的方法："></a><strong>然后就是撰写 Form 表单的方法：</strong></h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 提交事件  --------</span></span><br><span class="line"><span class="function"><span class="title">submitForm</span>(<span class="params">formName</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.$refs[formName].validate(<span class="function">(<span class="params">valid</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;获取表单的输入信息：----&#x27;</span>, <span class="built_in">this</span>.ruleForm);</span><br><span class="line">        <span class="comment">//添加商品----参数： title cid  category sellPoint price num descs paramsInfo image</span></span><br><span class="line">        <span class="keyword">let</span> &#123; title, cid, category, sellPoint, price, num, descs, image &#125; = <span class="built_in">this</span>.ruleForm;</span><br><span class="line">          <span class="built_in">this</span>.insertTbItem(&#123;</span><br><span class="line">              title, cid, category, sellPoint, price, num, descs,</span><br><span class="line">              <span class="attr">image</span>: <span class="built_in">JSON</span>.stringify(image)</span><br><span class="line">          &#125;)</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;error submit!!&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// 添加商品的接口 -----------------</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">insertTbItem</span>(<span class="params">params</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="built_in">this</span>.$api.addGoods(params)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;+++++++++++++++++++++++++++++++++&quot;</span>, res)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;添加商品&quot;</span>, res.data);</span><br><span class="line">  <span class="keyword">if</span> (res.data.status === <span class="number">200</span>) &#123;<span class="comment">//添加成功--</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//信息提示</span></span><br><span class="line">      <span class="built_in">this</span>.$message(&#123;</span><br><span class="line">          <span class="attr">message</span>: <span class="string">&#x27;恭喜你，添加商品成功&#x27;</span>,</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span></span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">//跳转到产品列表界面--- </span></span><br><span class="line">      <span class="built_in">this</span>.$router.push(<span class="string">&#x27;/goodsManage/goodsList&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//错误信息提示</span></span><br><span class="line">      <span class="built_in">this</span>.$message.error(<span class="string">&#x27;错了哦，添加商品失败&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p><code>INSERT INTO project(title, image, sellPoint, price, cid, category, num,  descs, paramsInfo) VALUES (&#39;214&#39;,&#39;[&quot;http://localhost:9898/1677766470520-618.png&quot;]&#39;,&#39;13134&#39;,&#39;142&#39;,&#39;1001&#39;,&#39;新鲜水果&#39;,&#39;13124&#39;,&#39;&lt;p&gt;hello&lt;/p&gt;&#39;,&#39;&#39;)</code></p>
<p>这个源代码里 sql 语句是正确的，但是数据库有一个字段  upgrated </p>
<h5 id="实现点击重置功能"><a href="#实现点击重置功能" class="headerlink" title="实现点击重置功能"></a>实现点击重置功能</h5><font color="blue">**重置功能，但是 上传图片区域 **</font>

<p><strong>首先对于 上传图片 的 upLoadImage Vue 文件</strong>，需要先定义一个 ref 用于找到这个控件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;el-upload</span><br><span class="line">...</span><br><span class="line">      ref=&quot;upload&quot;</span><br><span class="line">      multiple</span><br><span class="line">      &gt;</span><br><span class="line">...</span><br><span class="line">  &lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>并在 methods 中定义 方法 clear</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">clear</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 自带 api clearFiles</span></span><br><span class="line">    <span class="built_in">this</span>.$refs.upload.clearFiles()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>然后在 Form 组件中，</strong>对 upLoad 标签，给定一个 ref</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;upLoadImgVue  @sendImage=&quot;sendImage&quot; ref=&quot;uploadImage&quot;&gt;&lt;/upLoadImgVue&gt;</span><br></pre></td></tr></table></figure>
<p>然后重置按钮，添加对应的 找到 ref 执行器 clear 方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">resetForm</span>(<span class="params">formName</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$refs[formName].resetFields();</span><br><span class="line">    <span class="comment">// 清空图片列表  这个办法是 组件自己的方法</span></span><br><span class="line">    <span class="built_in">this</span>.$refs.uploadImage.clear()</span><br><span class="line">    <span class="comment">// WangEidtor</span></span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<font color="blue">**重置功能， 富文本区域并没有 清空**</font>

<p><strong>同样在 Form 组件中定义一个  ref</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;wangEditor @sendWangEditor=&quot;sendWangEditor&quot; ref=&quot;wangEdit&quot;&gt;&lt;/wangEditor&gt;</span><br></pre></td></tr></table></figure>
<p>然后在重置按钮中，写方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">resetForm</span>(<span class="params">formName</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$refs[formName].resetFields();</span><br><span class="line">    <span class="comment">// 清空图片列表  这个办法是 组件自己的方法</span></span><br><span class="line">    <span class="built_in">this</span>.$refs.uploadImage.clear()</span><br><span class="line">    <span class="comment">// WangEidtor</span></span><br><span class="line">    <span class="comment">// this.$refs.wangEdit.html = &quot;&quot;</span></span><br><span class="line">    <span class="comment">// 或者 用其 api 方法</span></span><br><span class="line">    <span class="built_in">this</span>.$refs.wangEdit.editor.clear()  </span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h4 id="实现List-页面的-选中某几项-然后批量删除"><a href="#实现List-页面的-选中某几项-然后批量删除" class="headerlink" title="实现List 页面的 选中某几项 然后批量删除"></a>实现List 页面的 选中某几项 然后批量删除</h4><p>首先 table 在 Element UI 中对于选择哪几个，是有专门的触发函数的 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- event: </span><br><span class="line">  select:当用户手动勾选数据行的 Checkbox 时触发的事件  selection row </span><br><span class="line">  select-all	当用户手动勾选全选 Checkbox 时触发的事件	selection</span><br><span class="line"></span><br><span class="line">--&gt;</span><br><span class="line">&lt;!-- 部分二 ：表格部分 --&gt;</span><br><span class="line">&lt;div class=&quot;list-table&quot;&gt;</span><br><span class="line">    &lt;el-table</span><br><span class="line">    :data=&quot;tableData&quot;</span><br><span class="line">    header-cell-class-name=&quot;textCenter&quot;</span><br><span class="line">    border</span><br><span class="line">    style=&quot;width: 100%&quot;</span><br><span class="line">    @select=&quot;selectHandle&quot;</span><br><span class="line">    @select-all=&quot;selectHandle&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    ....</span><br></pre></td></tr></table></figure>
<p>触发的事件回调函数 是一致的 都是我们自己定义的 <strong>selectHandle</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 点击勾选选择框 ————————————</span></span><br><span class="line"><span class="function"><span class="title">selectHandle</span>(<span class="params">selection</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 可以获取所有选中的 行</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;selection&quot;</span>, selection)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>点击按钮批量删除，触发对应方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 批量删除</span></span><br><span class="line"><span class="function"><span class="title">partDelete</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;批量删除 --ids--&quot;</span>, <span class="built_in">this</span>.ids);</span><br><span class="line">    <span class="comment">// 需要拼接是因为 我们的接口输入的是个 字符串</span></span><br><span class="line">    <span class="keyword">let</span> idsStr = <span class="built_in">this</span>.ids.join(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    <span class="built_in">this</span>.$confirm(<span class="string">&#x27;确定删除选中的商品数据?&#x27;</span>, <span class="string">&#x27;提示&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">confirmButtonText</span>: <span class="string">&#x27;确定&#x27;</span>,</span><br><span class="line">        <span class="attr">cancelButtonText</span>: <span class="string">&#x27;取消&#x27;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span></span><br><span class="line">    &#125;).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.$api.batchDelete(&#123;<span class="attr">ids</span>:idsStr&#125;).then(</span><br><span class="line">            <span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">                <span class="comment">// 删除成功需要重新渲染列表</span></span><br><span class="line">                <span class="keyword">if</span>(res.data.status == <span class="number">200</span>)&#123;</span><br><span class="line">                    <span class="built_in">this</span>.$message(&#123;</span><br><span class="line">                        <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&#x27;删除成功!&#x27;</span></span><br><span class="line">                    &#125;);</span><br><span class="line">                    <span class="built_in">this</span>.getGoodsList(<span class="number">1</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p><strong><font color="orange">然后需要解决的bug问题是，我将这页选择的都删了，这页没有了，怎么显示回上一页</font></strong></p>
<h2 id="将整个项目推送到-gitee中"><a href="#将整个项目推送到-gitee中" class="headerlink" title="将整个项目推送到 gitee中"></a>将整个项目推送到 gitee中</h2><p><strong>Step1：首先初始你需要新建一个项目</strong></p>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/新建仓库.png" alt=""></p>
<p><strong>Step2：在项目文件中打开 git bash</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">//在这之前，首次需要 注册邮箱和姓名</span><br><span class="line">git config --global user.email &quot;963561243@qq.com&quot;</span><br><span class="line">git config --global user.name &quot;JiangKaisheng&quot;</span><br><span class="line">//然后再</span><br><span class="line">git commit -m &quot;搭建项目&quot;</span><br><span class="line"> </span><br><span class="line">// 初始第一次  远程一下</span><br><span class="line">git remote add origin https://gitee.com/kaikai-superman/vue2_-purchase-ego.git</span><br><span class="line"></span><br><span class="line">// push 到 master 分支上</span><br><span class="line">git push -u origin &quot;master&quot;</span><br></pre></td></tr></table></figure>
<p>而后每一次提交</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 先要 pull 一下保持更新</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>
<p>在实际的开发中 肯定不会在 master 分支上的</p>
<p>所以我们可能需要自己建立分支 </p>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/建立分支.png" alt=""></p>
<p><img src="https://gitee.com/kaikai-superman/imgs/raw/master/img/实际创建.png" alt=""></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 可查看 本地和远端 分别由什么分支</span><br><span class="line">// 注意查看之前最好先 更新 git pull 一下</span><br><span class="line">git branch -a</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">凯凯超人</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/03/20/VuePurchase%E6%98%93%E8%B4%AD%E5%B9%B3%E5%8F%B0%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/">http://example.com/2023/03/20/VuePurchase%E6%98%93%E8%B4%AD%E5%B9%B3%E5%8F%B0%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">一只柴犬</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/03/20/%E7%BA%AF%20Mock.js%20%E6%93%8D%E4%BD%9C_%E5%87%AF%E5%87%AF%E8%B6%85%E4%BA%BA%E7%89%88%E6%9C%AC/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2023/03/20/Vue%20%E7%9A%84%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98_%E5%87%AF%E5%87%AF%E8%B6%85%E4%BA%BA%E7%89%88%E6%9C%AC/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info"></div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/admin.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">凯凯超人</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">68</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://gitee.com/×××" target="_blank" title="Gitee"><i class="iconfont gitee"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#VuePurchase%E6%98%93%E8%B4%AD%E5%B9%B3%E5%8F%B0%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">VuePurchase易购平台项目笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%89%8D%E7%AB%AF%E5%8C%85%E4%B8%8E%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83"><span class="toc-number">1.1.</span> <span class="toc-text">安装前端包与配置环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E4%BA%8E%E5%90%8E%E7%AB%AF%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.2.</span> <span class="toc-text">配置数据库用于后端服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Element-UI-%E5%AE%9E%E7%8E%B0%E4%BE%A7%E8%BE%B9%E6%A0%8F%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.3.</span> <span class="toc-text">使用 Element UI 实现侧边栏页面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%8A%E6%96%B9%E8%8F%9C%E5%8D%95%E5%AF%BC%E8%88%AA%E6%8A%98%E5%8F%A0"><span class="toc-number">1.4.</span> <span class="toc-text">实现上方菜单导航折叠</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%8A%E6%96%B9%E5%8F%B3%E4%BE%A7%E7%9A%84-%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4"><span class="toc-number">1.4.1.</span> <span class="toc-text">实现上方右侧的 当前时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%90%8E%E7%AB%AF%E9%83%A8%E7%BD%B2"><span class="toc-number">1.4.2.</span> <span class="toc-text">实现后端部署</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%BB%E9%A1%B5%E9%A6%96%E9%A1%B5"><span class="toc-number">1.5.</span> <span class="toc-text">实现主页首页</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E9%A1%B6%E9%83%A8%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.1.</span> <span class="toc-text">实现顶部数据统计信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8-echarts-%E7%94%BB%E5%9B%BE"><span class="toc-number">1.5.2.</span> <span class="toc-text">用 echarts 画图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%8B%E6%96%B9%E7%9A%84%E8%AE%A2%E5%8D%95"><span class="toc-number">1.5.3.</span> <span class="toc-text">实现下方的订单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%BA%A7%E5%93%81%E7%AE%A1%E7%90%86"><span class="toc-number">1.5.4.</span> <span class="toc-text">实现产品管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%BA%A7%E5%93%81%E5%88%86%E7%B1%BB%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">实现产品分类页面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%85%AC%E5%85%B1%E5%88%86%E9%A1%B5%E5%99%A8"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">实现公共分页器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%90%9C%E7%B4%A2%E4%BA%A7%E5%93%81%E5%90%8D-%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE%E5%8A%9F%E8%83%BD"><span class="toc-number">1.5.4.3.</span> <span class="toc-text">实现搜索产品名 显示数据功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E9%80%89%E6%8B%A9%E6%97%B6%E9%97%B4%E7%9A%84%E6%A0%BC%E5%BC%8F%E4%BF%AE%E6%94%B9"><span class="toc-number">1.5.4.4.</span> <span class="toc-text">实现选择时间的格式修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%88%A0%E9%99%A4%E5%95%86%E5%93%81-%E6%8C%87%E7%9A%84%E6%98%AF%E6%AF%8F%E4%B8%80%E8%A1%8C%E7%9A%84%E5%8F%B3%E4%BE%A7"><span class="toc-number">1.5.4.5.</span> <span class="toc-text">实现删除商品 指的是每一行的右侧</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E7%9A%84%E6%B7%BB%E5%8A%A0%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.5.4.6.</span> <span class="toc-text">实现数据的添加页面</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%88%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1"><span class="toc-number">1.5.4.6.1.</span> <span class="toc-text">先配置路由</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E6%B7%BB%E5%8A%A0%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.5.4.6.2.</span> <span class="toc-text">配置数据添加页面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B%E5%88%97%E8%A1%A8-%E7%9A%84-%E6%A0%91%E5%BD%A2%E8%8F%9C%E5%8D%95"><span class="toc-number">1.5.4.6.3.</span> <span class="toc-text">实现产品类型列表 的 树形菜单</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B%E5%88%97%E8%A1%A8-%E7%9A%84-%E5%8F%B3%E4%BE%A7%E6%B7%BB%E5%8A%A0%E8%A1%A8%E5%8D%95"><span class="toc-number">1.5.4.6.4.</span> <span class="toc-text">实现产品类型列表 的 右侧添加表单</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%94%A8%E5%85%A8%E5%B1%80%E6%80%BB%E7%BA%BF%E6%9D%A5%E5%AE%9E%E7%8E%B0-%E5%B7%A6%E4%BE%A7%E5%88%86%E7%B1%BB%E5%8F%B3%E4%BE%A7%E6%98%BE%E7%A4%BA"><span class="toc-number">1.5.4.6.4.1.</span> <span class="toc-text">用全局总线来实现 左侧分类右侧显示</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%84%B6%E5%90%8E%E5%8F%B3%E4%BE%A7%E8%A1%A8%E5%8D%95%E6%95%B4%E4%BD%93%E7%9A%84%E5%B8%83%E5%B1%80%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9%E4%B8%BA%E9%9C%80%E8%A6%81%E6%95%88%E6%9E%9C"><span class="toc-number">1.5.4.6.4.2.</span> <span class="toc-text">然后右侧表单整体的布局需要修改为需要效果</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%A1%A8%E5%8D%95-Form-%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0-%E5%B9%B6%E5%9B%9E%E8%B0%83%E5%AD%98%E5%82%A8%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.4.6.4.3.</span> <span class="toc-text">实现表单 Form 中的图片上传 并回调存储信息</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E5%9C%A8-server-%E4%B8%8B%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA-upload%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%88%91%E4%BB%AC%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-number">1.5.4.6.4.4.</span> <span class="toc-text">我们需要在 server 下创建一个 upload文件夹，用于我们的文件上传</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%A1%A8%E5%8D%95-Form-%E4%B8%AD%E7%9A%84%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BB%84%E4%BB%B6-%E4%B8%8A%E4%BC%A0"><span class="toc-number">1.5.4.6.4.5.</span> <span class="toc-text">实现表单 Form 中的富文本组件 上传</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9C%80%E5%90%8E%E5%AE%9E%E7%8E%B0%E5%95%86%E5%93%81%E7%9A%84%E6%B7%BB%E5%8A%A0"><span class="toc-number">1.5.4.6.4.6.</span> <span class="toc-text">最后实现商品的添加</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%84%B6%E5%90%8E%E5%B0%B1%E6%98%AF%E6%92%B0%E5%86%99-Form-%E8%A1%A8%E5%8D%95%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">1.5.4.6.4.7.</span> <span class="toc-text">然后就是撰写 Form 表单的方法：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BB%E9%87%8D%E7%BD%AE%E5%8A%9F%E8%83%BD"><span class="toc-number">1.5.4.6.5.</span> <span class="toc-text">实现点击重置功能</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0List-%E9%A1%B5%E9%9D%A2%E7%9A%84-%E9%80%89%E4%B8%AD%E6%9F%90%E5%87%A0%E9%A1%B9-%E7%84%B6%E5%90%8E%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4"><span class="toc-number">1.5.4.7.</span> <span class="toc-text">实现List 页面的 选中某几项 然后批量删除</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E6%95%B4%E4%B8%AA%E9%A1%B9%E7%9B%AE%E6%8E%A8%E9%80%81%E5%88%B0-gitee%E4%B8%AD"><span class="toc-number">1.6.</span> <span class="toc-text">将整个项目推送到 gitee中</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/03/20/axios%20%E7%9A%84%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85_%E5%87%AF%E5%87%AF%E8%B6%85%E4%BA%BA%E7%89%88%E6%9C%AC/" title="无题"><img src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2023/03/20/axios%20%E7%9A%84%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85_%E5%87%AF%E5%87%AF%E8%B6%85%E4%BA%BA%E7%89%88%E6%9C%AC/" title="无题">无题</a><time datetime="2023-03-20T10:12:35.973Z" title="发表于 2023-03-20 18:12:35">2023-03-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/20/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95%E9%A2%98_%E5%87%AF%E5%87%AF%E8%B6%85%E4%BA%BA%E7%89%88%E6%9C%AC/" title="无题"><img src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2023/03/20/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95%E9%A2%98_%E5%87%AF%E5%87%AF%E8%B6%85%E4%BA%BA%E7%89%88%E6%9C%AC/" title="无题">无题</a><time datetime="2023-03-20T10:12:35.969Z" title="发表于 2023-03-20 18:12:35">2023-03-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/20/%E5%89%8D%E7%AB%AF%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98_%E5%87%AF%E5%87%AF%E8%B6%85%E4%BA%BA%E7%89%88%E6%9C%AC/" title="无题"><img src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2023/03/20/%E5%89%8D%E7%AB%AF%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98_%E5%87%AF%E5%87%AF%E8%B6%85%E4%BA%BA%E7%89%88%E6%9C%AC/" title="无题">无题</a><time datetime="2023-03-20T10:12:35.965Z" title="发表于 2023-03-20 18:12:35">2023-03-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/20/%E5%89%8D%E7%AB%AF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%9D%A2%E8%AF%95%E9%A2%98_%E5%87%AF%E5%87%AF%E8%B6%85%E4%BA%BA%E7%89%88%E6%9C%AC/" title="无题"><img src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2023/03/20/%E5%89%8D%E7%AB%AF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%9D%A2%E8%AF%95%E9%A2%98_%E5%87%AF%E5%87%AF%E8%B6%85%E4%BA%BA%E7%89%88%E6%9C%AC/" title="无题">无题</a><time datetime="2023-03-20T10:12:35.961Z" title="发表于 2023-03-20 18:12:35">2023-03-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/20/%E5%89%8D%E7%AB%AF%EF%BC%88JS%EF%BC%89%E4%BB%A3%E7%A0%81%E7%BC%96%E7%A8%8B%E9%A2%98/" title="无题"><img src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/media/image/14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2023/03/20/%E5%89%8D%E7%AB%AF%EF%BC%88JS%EF%BC%89%E4%BB%A3%E7%A0%81%E7%BC%96%E7%A8%8B%E9%A2%98/" title="无题">无题</a><time datetime="2023-03-20T10:12:35.954Z" title="发表于 2023-03-20 18:12:35">2023-03-20</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 凯凯超人</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/js/pool.min.js"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/mouse_snow.min.js"><script src="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/js/pool.min.js"></script><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/mouse_snow.min.js"></script><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/hideMobileSidebar.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>